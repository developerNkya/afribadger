(window.webpackJsonp=window.webpackJsonp||[]).push([[64],{394:function(t,e,n){"use strict";var r={props:{tag:{type:String,default:"article"}}},o=n(0),component=Object(o.a)(r,(function(){var t=this.$createElement;return(this._self._c||t)(this.tag,{tag:"div",staticClass:"rounded-4 shadow-card bg-white"},[this._t("default")],2)}),[],!1,null,null,null);e.a=component.exports},396:function(t,e,n){"use strict";var r=n(6),o=(n(146),{props:{lines:{type:Number,required:!0}},computed:{textClass:function(){return Object(r.a)({box:!0,"orient-vertical":!0,"overflow-hidden":!0},"clamp-".concat(this.lines),!0)}}}),l=n(0),component=Object(l.a)(o,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{class:this.textClass},[e("p",{staticClass:"visible"},[this._t("default")],2)])}),[],!1,null,null,null);e.a=component.exports},398:function(t,e,n){"use strict";var r=n(29),o=n(16),l={components:{CommonContainer:r.a,CommonHeading:o.a},props:{hasContentBorder:{type:Boolean,default:!1},hasOutsideBorder:{type:Boolean,default:!1},hasOutsideShadow:{type:Boolean,default:!1}},computed:{sectionClass:function(){return{"pb-30":this.$slots.button,"pt-30":this.$slots.heading,"md:pt-60":this.$slots.heading,"border-t-1":this.hasOutsideBorder,"border-black-5":this.hasOutsideBorder,"md:shadow-section":this.hasOutsideShadow,relative:this.hasOutsideBorder,"z-above":this.hasOutsideBorder}},contentClass:function(){return{"md:border-t-1":this.hasContentBorder,"md:border-b-1":this.hasContentBorder&&this.$slots.button,"md:border-black-5":this.hasContentBorder}},buttonClass:function(){return{"text-center":!0,"mt-20":this.$slots.heading&&this.$slots.content,"md:mt-30":this.$slots.heading&&this.$slots.content}}}},c=n(0),component=Object(c.a)(l,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{class:t.sectionClass},[t.$slots.heading?[n("common-heading",{staticClass:"text-center text-brown-primary mb-20 md:mb-30",attrs:{type:"secondary"}},[t._t("heading")],2)]:t._e(),t._v(" "),t.$slots.content?n("div",{class:t.contentClass},[t._t("content")],2):t._e(),t._v(" "),t.$slots.button?n("div",{class:t.buttonClass},[n("common-container",{attrs:{size:"lg"}},[t._t("button")],2)],1):t._e()],2)}),[],!1,null,null,null);e.a=component.exports},400:function(t,e,n){"use strict";n(20),n(11),n(9),n(8),n(15);var r=n(6),o={components:{IconInfo:n(35).a},props:{label:{type:String,default:null},hint:{type:String,default:null},error:{type:String,default:null},errorPlacement:{type:String,default:"below"},isInline:{type:Boolean,default:!1},isOnDark:{type:Boolean,default:!0}},computed:{fieldClass:function(){return{"md:flex":this.isInline,"md:items-center":this.isInline}},labelClass:function(){var t=this.$slots.actions||"above"===this.errorPlacement;return{block:!t,flex:t,"items-center":t,"mb-15":!0,"md:mb-0":this.isInline,"md:mr-20":this.isInline}},errorClass:function(){return{"text-11":!0,flex:!0,"items-center":!0,"opacity-80":!0,"mt-10":"below"===this.errorPlacement,"ml-auto":"above"===this.errorPlacement}}}},l=n(0),c=Object(l.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.fieldClass},[t.label?n("label",{class:t.labelClass},[t._t("label",[t._v("\n            "+t._s(t.label)+"\n        ")]),t._v(" "),t.$slots.actions?n("div",{staticClass:"ml-auto"},[t._t("actions")],2):t._e(),t._v(" "),t.error&&"above"===t.errorPlacement?n("p",{class:t.errorClass},[t._v("\n            "+t._s(t.error)+"\n\n            "),n("icon-info",{staticClass:"ml-5 h-15 w-15 text-pink-primary"})],1):t._e()],2):t._e(),t._v(" "),n("div",[t._t("input"),t._v(" "),t.hint?n("p",{staticClass:"text-11 mt-10"},[t._v("\n            "+t._s(t.hint)+"\n        ")]):t._e(),t._v(" "),t.error&&"below"===t.errorPlacement?n("p",{class:t.errorClass},[t._v("\n            "+t._s(t.error)+"\n\n            "),t.isOnDark?t._e():n("icon-info",{staticClass:"ml-5 h-15 w-15 text-pink-primary"})],1):t._e()],2)])}),[],!1,null,null,null).exports;function m(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function d(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?m(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):m(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}e.a={components:{FormField:c},props:{label:{type:String,default:null},hint:{type:String,default:null},placeholder:{type:String,default:null},error:{type:String,default:null},errorPlacement:{type:String,default:void 0},value:{type:Object,required:!0},attrs:{type:Object,default:function(){return{}}},isInline:{type:Boolean,default:!1},isOnDark:{type:Boolean,default:!0}},computed:{fieldProps:function(){return{label:this.label,hint:this.hint,error:this.error,errorPlacement:this.errorPlacement,isInline:this.isInline,isOnDark:this.isOnDark}},inputProps:function(){return d(d({},this.attrs),{},{placeholder:this.placeholder,value:this.$helpers.get(this.value.data,this.value.path)})}},methods:{change:function(t){this.$emit("change",{path:this.value.path,value:t})}}}},401:function(t,e,n){"use strict";var r={components:{CommonContainer:n(29).a},props:{isReversed:{type:Boolean,default:!1}},computed:{mediaClass:function(){return{relative:!0,"pb-full":!0,"sm:pb-8/12":!0,"md:pb-0":!0,"md:h-full":!0,"md:w-half":!0,"md:absolute":!0,"md:left-0":!this.isReversed,"md:right-0":this.isReversed}},wrapperClass:function(){return{"md:flex":!0,"md:justify-end":!this.isReversed,"md:justify-start":this.isReversed}},copyClass:function(){return{"md:min-h-500":!0,"md:w-half":!0,"py-30":!0,"md:py-60":!0,"lg:py-100":!0,"md:pl-40":!this.isReversed,"md:pr-40":this.isReversed,"lg:pl-50":!this.isReversed,"lg:pr-50":this.isReversed}}}},o=n(0),component=Object(o.a)(r,(function(){var t=this.$createElement,e=this._self._c||t;return e("section",{staticClass:"relative"},[e("div",{class:this.mediaClass},[this._t("media")],2),this._v(" "),e("common-container",{staticClass:"relative md:static",attrs:{size:"lg"}},[e("div",{class:this.wrapperClass},[e("div",{class:this.copyClass},[this._t("content")],2)])])],1)}),[],!1,null,null,null);e.a=component.exports},402:function(t,e,n){"use strict";var r=n(150);e.a={mixins:[r.a],props:{isFocused:{type:Boolean,default:!1},isRequired:{type:Boolean,default:!1},isInvalid:{type:Boolean,default:!1},attrs:{type:Object,default:null}},methods:{change:function(t){this.$emit("change",t instanceof Event?t.target.value:t)}}}},413:function(t,e,n){"use strict";n(20),n(11),n(9),n(8),n(15);var r=n(6);n(53),n(146);function o(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function l(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?o(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):o(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var c={props:{zoom:{type:Number,default:void 0},center:{type:Array,default:function(){return[20,20]}},zoomPosition:{type:String,default:"bottomright"},scrollWheelZoom:{type:Boolean,default:!0},isLocked:{type:Boolean,default:!1},isRememberable:{type:Boolean,default:!1}},computed:{mapObject:function(){return this.$refs.map.mapObject},mapOptions:function(){return{maxZoom:20,zoomSnap:0,scrollWheelZoom:this.scrollWheelZoom,attributionControl:!1,zoomControl:!1}},tileLayer:function(){return["https://api.mapbox.com/styles/v1/mapbox/streets-v11/tiles/{z}/{x}/{y}?access_token=","pk.eyJ1IjoiYmVuZ290dGxpZWItdG9wdGFsIiwiYSI6ImNqdXFzNDVsMjE1ODg0NHBpMXZ2dDR5MG4ifQ.X7NMaRCJ0sIC2lrMBgtcVg"].join("")},tileOptions:function(){return{maxNativeZoom:20,maxZoom:20}}},watch:{isLocked:function(t){t?(this.mapObject.touchZoom.disable(),this.mapObject.doubleClickZoom.disable(),this.mapObject.scrollWheelZoom.disable(),this.mapObject.boxZoom.disable(),this.mapObject.keyboard.disable(),this.mapObject.dragging.disable()):(this.mapObject.touchZoom.enable(),this.mapObject.doubleClickZoom.enable(),this.mapObject.scrollWheelZoom.enable(),this.mapObject.boxZoom.enable(),this.mapObject.keyboard.enable(),this.mapObject.dragging.enable())}},mounted:function(){var t=this;this.$nextTick((function(){t.calculateMinZoom(void 0===t.zoom),t.bindRememberable(),window.dispatchEvent(new Event("resize"))})),window.addEventListener("resize",this.calculateMinZoom),window.addEventListener("orientationchange",this.calculateMinZoom)},beforeDestroy:function(){window.removeEventListener("resize",this.calculateMinZoom),window.removeEventListener("orientationchange",this.calculateMinZoom)},methods:{bindRememberable:function(){var t=this;if(this.isRememberable){this.$route.query.zoom&&this.mapObject.setZoom(parseFloat(this.$route.query.zoom)),this.$route.query.lat&&this.$route.query.lng&&(console.log("test",[parseFloat(this.$route.query.lat),parseFloat(this.$route.query.lng)]),this.mapObject.panTo([parseFloat(this.$route.query.lat),parseFloat(this.$route.query.lng)]));var e=function(e){var n=e.target;t.$router.replace({query:l(l({},t.$route.query),{},{zoom:n.getZoom(),lat:n.getCenter().lat,lng:n.getCenter().lng})})};setTimeout((function(){t.mapObject.addEventListener("zoomend",e),t.mapObject.addEventListener("moveend",e)}),1e3)}},maxBounds:function(t){return[[-90,-(t?1/0:180)],[60,t?1/0:180]]},calculateMinZoom:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.mapObject.getBoundsZoom(this.maxBounds(!0),!0);t&&this.mapObject.setZoom(e)}}},m=n(0),component=Object(m.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bg-blue-leaflet h-full w-full"},[n("div",{staticClass:"absolute invisible"},[t._t("icons")],2),t._v(" "),n("client-only",[n("l-map",{ref:"map",staticClass:"h-full w-full",attrs:{zoom:t.zoom,center:t.center,options:t.mapOptions,"world-copy-jump":!0}},[t.isLocked?t._e():n("l-control-zoom",{attrs:{position:t.zoomPosition}}),t._v(" "),n("l-tile-layer",{attrs:{url:t.tileLayer,options:t.tileOptions}}),t._v(" "),t._t("default")],2)],1)],1)}),[],!1,null,null,null);e.a=component.exports},414:function(t,e,n){"use strict";var r=n(0),component=Object(r.a)({},(function(){var t=this.$createElement,e=this._self._c||t;return e("svg",this._g({attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 288 144"}},this.$listeners),[e("g",{attrs:{fill:"var(--yellow)"}},[e("path",{attrs:{d:"M192 0l-24 24h48zM48 0L24 24h48zM24 24L0 48h48zM72 24L48 48h48zM24 72L0 96h48zM168 24L144 0v48zM24 120L0 96v48zM216 24l24 24V0zM72 120l24 24V96zM192 48l24-24h-48z"}}),e("path",{attrs:{d:"M48 48l24-24H24zM72 72l24-24H48zM24 120l24-24H0zM24 72l24-24H0zM72 24L96 0H48z"}})]),e("g",{attrs:{fill:"var(--pink-secondary)"}},[e("path",{attrs:{d:"M264 24l24-24h-48zM48 144l24-24H24zM48 96l-24 24h48zM144 48V0H96z"}})]),e("g",{attrs:{fill:"var(--brown-ornament-light)"}},[e("path",{attrs:{d:"M144 48L96 0v48zM0 48L48 0H0zM168 24l24-24h-48zM24 72L0 48v48z"}})]),e("g",{attrs:{fill:"var(--brown-ornament-dark)"}},[e("path",{attrs:{d:"M216 24l24-24h-48zM72 24l24 24V0zM24 72l24 24V48zM48 96l24 24V72zM72 72L48 48v48zM96 96L72 72v48z"}})])])}),[],!1,null,null,null);e.a=component.exports},417:function(t,e,n){"use strict";var r=n(0),component=Object(r.a)({},(function(){var t=this.$createElement,e=this._self._c||t;return e("svg",this._g({attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 17 9"}},this.$listeners),[e("path",{attrs:{fill:"none",stroke:"currentColor","stroke-width":"1.5",d:"M15.455 1.37L8.677 8.146a.25.25 0 01-.354 0L1.545 1.37a.25.25 0 010-.353L15.278.942a.25.25 0 01.177.427z"}})])}),[],!1,null,null,null);e.a=component.exports},418:function(t,e,n){"use strict";var r=n(0),component=Object(r.a)({},(function(){var t=this.$createElement,e=this._self._c||t;return e("svg",this._g({attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 23 23"}},this.$listeners),[e("path",{attrs:{fill:"currentColor","fill-rule":"evenodd",stroke:"currentColor","stroke-width":"1.19",d:"M11.216 2.452l-3.02 6.726H2.409l4.346 4.467-1.46 7.007 5.921-4.144 6.034 4.222-.988-7.103 4.329-4.449h-6.354l-3.02-6.726z"}})])}),[],!1,null,null,null);e.a=component.exports},428:function(t,e,n){"use strict";var r={mixins:[n(434).a],props:{isCompact:{type:Boolean,required:!0}},computed:{numberOfDetails:function(){return this.tripDuration?this.detailsList.length+1:this.detailsList.length},detailsClass:function(){return{flex:!0,"justify-between":5===this.numberOfDetails,"font-slab":!0,"tracking-wider":!0,"text-center":!0,"text-12":!0,"list-none":!0,"whitespace-no-wrap":!0}},detailClass:function(){return{"pl-10":!0,"md:pl-15":5===this.numberOfDetails,"first:pl-0":!0}}},methods:{detailsListLabel:function(t,e){switch(t){case"region":return this.$t("dictionaries.regions.truncated.".concat(e));case"climate":return this.$t("dictionaries.climates.".concat(e));case"threshold":return this.$t("dictionaries.thresholds.".concat(e));case"rating":return e}}}},o=n(0),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",{class:t.detailsClass},[t.tripDuration?n("li",{class:t.detailClass},[n("svg",{staticClass:"w-20 h-20 mb-5 mx-auto",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 80 80"}},[n("path",{attrs:{stroke:"var(--brown-primary)","stroke-width":"4",fill:"none",d:"M2.5 2.5h75v75h-75z"}}),t._v(" "),n("text",{attrs:{x:"50%",y:"60%","font-size":"55",fill:"var(--pink-primary)","alignment-baseline":"middle","text-anchor":"middle"}},[t._v("\n                "+t._s(t.tripDuration)+"\n            ")])]),t._v(" "),n("p",[t._v(t._s(t.$t("tribes.trip_duration")))])]):t._e(),t._v(" "),t._l(t.detailsList,(function(e,r){var o=e.icon,label=e.label;return n("li",{key:r,class:t.detailClass},[n(o,{tag:"div",staticClass:"w-20 h-20 mb-5 mx-auto"}),t._v(" "),n("p",[t._v(t._s(label))])],1)}))],2)}),[],!1,null,null,null);e.a=component.exports},432:function(t,e,n){"use strict";var r=n(0),component=Object(r.a)({},(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"h-full overflow-hidden"},[this.$slots.submenu?e("div",{staticClass:"fixed z-floating left-0 right-0 pointer-events-none"},[this._t("submenu")],2):this._e(),this._v(" "),e("div",{staticClass:"relative h-full w-full"},[this._t("map")],2)])}),[],!1,null,null,null);e.a=component.exports},436:function(t,e,n){"use strict";var r=n(395),o=n(16),l=n(7),c=n(396),m=n(428),d=n(0),h=Object(d.a)({},(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"inline-flex h-30 px-15 items-center border-1 border-current rounded-2"},[e("span",{staticClass:"font-handwriting text-current text-16 leading-none"},[this._t("default")],2)])}),[],!1,null,null,null).exports,f={components:{CommonBlockCopy:r.a,CommonHeading:o.a,CommonButton:l.a,CommonTextClamp:c.a,TribesTribeDetails:m.a,TribesTribeCategory:h},props:{item:{type:Object,required:!0},isStretched:{type:Boolean,default:!1},isCompact:{type:Boolean,default:!1}},computed:{buttonLabel:function(){return this.$t("tribes.trip_button",{price:this.$helpers.price(this.item.price,this.item.currency)})}}},v=Object(d.a)(f,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("common-block-copy",{attrs:{"is-center-mobile":!1,"is-stretched":t.isStretched},scopedSlots:t._u([t.item.category?{key:"kicker",fn:function(){return[n("nuxt-link",{attrs:{to:t.$link.showTribes({category:t.item.category},t.$route.query.view)}},[n("tribes-tribe-category",{staticClass:"text-brown-primary mb-10"},[t._v("\n                "+t._s(t.$t("dictionaries.categories."+t.item.category))+"\n            ")])],1)]},proxy:!0}:null,{key:"heading",fn:function(){return[n("common-heading",{staticClass:"text-brown-primary truncate leading-copy -my-5",attrs:{type:t.isCompact?"quinary":"quaternary"}},[n("nuxt-link",{attrs:{to:t.$link.showTribe(t.item,null,t.$route.query)}},[t._v("\n                "+t._s(t.item.name)+"\n            ")])],1)]},proxy:!0},{key:"content",fn:function(){return[n("common-text-clamp",{attrs:{lines:t.isCompact?3:4}},[t._v("\n            "+t._s(t.item.summary)+"\n        ")]),t._v(" "),n("tribes-tribe-details",{staticClass:"pt-20 sm:pt-30",attrs:{tribe:t.item,"is-compact":!t.isCompact}})]},proxy:!0},{key:"button",fn:function(){return[n("div",{staticClass:"text-white"},[n("common-button",{attrs:{route:t.$link.showTribe(t.item,null,t.$route.query),label:t.buttonLabel,"is-stretched":t.isStretched,type:"primary"}})],1)]},proxy:!0}],null,!0)})}),[],!1,null,null,null);e.a=v.exports},438:function(t,e,n){"use strict";var r=n(0),component=Object(r.a)({},(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"md:flex justify-center md:-mx-5"},[this.$slots.primary?e("div",{staticClass:"w-full md:w-half md:mx-5"},[this._t("primary")],2):this._e(),this._v(" "),this.$slots.secondary?e("div",{staticClass:"mt-5 w-full md:w-half md:mt-0 md:mx-5"},[this._t("secondary")],2):this._e()])}),[],!1,null,null,null);e.a=component.exports},451:function(t,e,n){"use strict";var r=n(151),o=n(394),l={components:{IconMenuClose:r.a,CommonCard:o.a}},c=n(0),component=Object(c.a)(l,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("common-card",{staticClass:"flex flex-col",attrs:{tag:"section"}},[n("div",{staticClass:"p-20 flex-1 overflow-y-auto"},[n("div",{staticClass:"mb-10 md:mb-20 md:mb-20 h-40 flex justify-center items-center relative"},[t.$slots.button?n("div",{staticClass:"absolute top-0 left-0"},[t._t("button")],2):t._e(),t._v(" "),t._t("heading"),t._v(" "),n("button",{staticClass:"absolute right-0 top-half transform -translate-y-half p-10 md:-mr-5 text-pink-primary hover:text-brown-primary",on:{click:function(e){return t.$emit("close")}}},[n("icon-menu-close",{staticClass:"w-20 h-20 md:w-25 md:h-25"})],1)],2),t._v(" "),t._t("default")],2),t._v(" "),t.$slots.footer?[n("footer",{staticClass:"py-10 border-t-1 border-black-5"},[t._t("footer")],2)]:t._e()],2)}),[],!1,null,null,null);e.a=component.exports},452:function(t,e,n){"use strict";var r=n(395),o=n(16),l={components:{CommonBlockCopy:r.a,CommonHeading:o.a},props:{heading:{type:String,required:!0},description:{type:String,required:!0}}},c=n(0),component=Object(c.a)(l,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"py-30 md:py-60 border-black-5 border-t-1"},[n("common-block-copy",{staticClass:"mb-40",attrs:{"is-center":!0,"is-compact":!0},scopedSlots:t._u([{key:"heading",fn:function(){return[n("common-heading",{staticClass:"text-brown-primary",attrs:{"is-slab":!0,type:"sevenfold"}},[t._v("\n                "+t._s(t.heading)+"\n            ")])]},proxy:!0},{key:"content",fn:function(){return[n("div",{staticClass:"autop",domProps:{innerHTML:t._s(t.$helpers.autop(t.description))}})]},proxy:!0}])}),t._v(" "),t._t("default")],2)}),[],!1,null,null,null);e.a=component.exports},454:function(t,e,n){"use strict";var r=n(18),o=(n(33),n(38),n(6)),l=(n(59),n(146),n(400)),c=n(395),m=n(29),d=n(16),h={components:{CommonBlockCopy:c.a,CommonContainer:m.a,CommonHeading:d.a},mixins:[l.a],props:{choices:{type:Array,required:!0},iconSize:{type:Number,required:!0},isMultiselect:{type:Boolean,default:!1}},data:function(){return{isListHovered:!1,hoveredChoice:null}},computed:{isDescriptionShown:function(){return!this.isMultiselect&&this.choices.some((function(t){return t.description}))},description:function(){var t=this;return!this.isMultiselect&&(this.inputProps.value&&!this.isListHovered?(this.choices.find((function(e){return e.slug===t.inputProps.value}))||{}).description:(this.hoveredChoice||{}).description)}},methods:{iconClass:function(t){var e;return e={},Object(o.a)(e,"w-".concat(this.iconSize),!0),Object(o.a)(e,"h-".concat(this.iconSize),!0),Object(o.a)(e,"transition",!0),Object(o.a)(e,"transition-250",!0),Object(o.a)(e,"transition-opacity",!0),Object(o.a)(e,"opacity-30",!this.isChoiceSelected(t)),Object(o.a)(e,"group-hover:opacity-100",!0),e},labelClass:function(t){return{"text-12":!0,"font-slab":!0,"tracking-wider":!0,"group-hover:font-bold":!0,"font-bold":this.isChoiceSelected(t),"mt-10":!0}},isChoiceSelected:function(t){var e=t.slug;return Array.isArray(this.inputProps.value)?this.inputProps.value.includes(e):this.inputProps.value===e},clickChoice:function(t){if(!this.isMultiselect)return this.change(t.slug);var e=Array.isArray(this.inputProps.value)?this.inputProps.value:this.inputProps.value?[this.inputProps.value]:[];this.isChoiceSelected(t)?this.change((e||[]).filter((function(e){return e!=t.slug}))):this.change([].concat(Object(r.a)(e),[t.slug]))}}},f=n(0),component=Object(f.a)(h,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"mx-auto flex flex-wrap justify-around -my-20",on:{click:function(e){t.isListHovered=!1},mouseover:function(e){t.isListHovered=!0},mouseleave:function(e){t.isListHovered=!1}}},t._l(t.choices,(function(e,r){return n("button",{key:r,staticClass:"w-4/12 md:w-1/5 py-20 flex flex-col items-center justify-center group",attrs:{type:"button"},on:{mouseover:function(n){t.hoveredChoice=e},mouseleave:function(e){t.hoveredChoice=null},click:function(n){return t.clickChoice(e)}}},[n(e.icon,{tag:"div",class:t.iconClass(e)}),t._v(" "),n("p",{class:t.labelClass(e)},[t._v("\n                "+t._s(e.name)+"\n            ")])],1)})),0),t._v(" "),t.isDescriptionShown?n("div",{staticClass:"px-20 mt-20 h-130 bg-maize flex items-center justify-center text-center md:mt-40 md:rounded-b-4 -mb-20 md:-mb-60"},[n("transition",{attrs:{"enter-active-class":"transition-reveal transition-250","leave-active-class":"transition-reveal transition-250","enter-class":"opacity-0","enter-to-class":"opacity-100","leave-class":"opacity-100","leave-to-class":"opacity-0"}},[t.description?n("p",[t._v("\n                "+t._s(t.description)+"\n            ")]):t._e()])],1):t._e()])}),[],!1,null,null,null);e.a=component.exports},501:function(t,e,n){"use strict";n.r(e);n(20),n(11),n(53),n(33),n(38),n(9),n(8),n(15);var r=n(6),o=(n(10),n(5)),l=n(85),c=n(432),m=n(413),d=n(151),h=n(394),f=n(436),v={components:{IconMenuClose:d.a,CommonCard:h.a,TribesTribeInfo:f.a},props:{item:{type:Object,required:!0},isOpen:{type:Boolean,default:!0}},computed:{isCategoryPresent:function(){return Boolean(this.item.category)},cardClass:function(){return{"h-340":this.isCategoryPresent,"sm:h-390":this.isCategoryPresent,"h-290":!this.isCategoryPresent,"sm:h-340":!this.isCategoryPresent,"p-20":!0,"pt-30":!this.isCategoryPresent,"sm:p-30":!0,relative:!0,"transition-reveal":!0,"transition-250":!0,"origin-top":!0,transform:!0,"scale-unrevealed":!this.isOpen,"pointer-events-auto":this.isOpen}}}},y=n(0),_=Object(y.a)(v,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"w-screen max-w-370 px-10 pb-10 mt-100 relative"},[n("common-card",{class:t.cardClass},[n("button",{staticClass:"absolute top-25 sm:top-30 right-20 p-10 -m-10 text-pink-primary hover:text-brown-primary",on:{click:function(e){return t.$emit("close")}}},[n("icon-menu-close",{staticClass:"w-25 h-25 sm:h-30"})],1),t._v(" "),n("tribes-tribe-info",{attrs:{item:t.item,"is-center":!0,"is-stretched":!0,"is-compact":!0}})],1)],1)}),[],!1,null,null,null).exports,w=(n(146),{props:{count:{type:Number,default:1},isActive:{type:Boolean,default:!1}}}),O=Object(y.a)(w,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 38 58"}},[n("defs",[n("path",{attrs:{id:"badge",d:"M4 2h30a2 2 0 0 1 2 2v37.99a2 2 0 0 1-.813 1.61L19.595 55.097a2 2 0 0 1-2.422-.036L2.765 43.755A2 2 0 0 1 2 42.182V4a2 2 0 0 1 2-2z"}}),t._v(" "),n("filter",{attrs:{id:"shadow",width:"120.6%",height:"112%",x:"-10.3%",y:"-4.6%",filterUnits:"objectBoundingBox"}},[n("feOffset",{attrs:{dy:"1",in:"SourceAlpha",result:"shadowOffsetOuter"}}),t._v(" "),n("feGaussianBlur",{attrs:{in:"shadowOffsetOuter",result:"shadowBlurOuter",stdDeviation:"1"}}),t._v(" "),n("feColorMatrix",{attrs:{in:"shadowBlurOuter",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.204217657 0"}})],1),t._v(" "),n("linearGradient",{attrs:{id:"gradient-default",x1:"39.493%",x2:"61.61%",y1:"83.062%",y2:"16.099%"}},[n("stop",{attrs:{offset:"0%","stop-color":"var(--yellow)"}}),t._v(" "),n("stop",{attrs:{offset:"100%","stop-color":"var(--pink-primary)"}})],1),t._v(" "),n("linearGradient",{attrs:{id:"gradient-active",x1:"63.329%",x2:"30.178%",y1:"-11.375%",y2:"286.907%"}},[n("stop",{attrs:{offset:"0%","stop-color":"var(--yellow)"}}),t._v(" "),n("stop",{attrs:{offset:"100%","stop-color":"var(--pink-primary)"}})],1)],1),t._v(" "),n("g",{attrs:{fill:"none","fill-rule":"evenodd"}},[n("use",{attrs:{fill:"var(--black-hex)",filter:"url(#shadow)","xlink:href":"#badge"}}),t._v(" "),n("use",{attrs:{fill:t.isActive?"url(#gradient-active)":"url(#gradient-default)","xlink:href":"#badge"}}),t._v(" "),n("path",{attrs:{stroke:"var(--brown-primary)","stroke-width":"1.25",d:"M11.5 42.25h15l-7.5-10-7.5 10z"}}),t._v(" "),n("path",{attrs:{stroke:"var(--brown-primary)","stroke-width":"1.25",d:"M22 25.75h-6l3 4 3-4z"}}),t._v(" "),n("text",{attrs:{x:"18.5",y:"17",fill:"var(--white-hex)","font-family":"Roboto Slab","font-size":"9","text-anchor":"middle"}},[t._v("\n            "+t._s(t.count)+"\n        ")])])])}),[],!1,null,null,null).exports,x={components:{CommonMapPage:c.a,CommonMap:m.a,TribesMapItem:_,TribesMapPin:O},props:{items:{type:Array,default:function(){return[]}}},data:function(){return{openItem:null}},computed:{clusterOptions:function(){var t=this;return{showCoverageOnHover:!1,spiderfyOnMaxZoom:!1,animate:!0,zoomToBoundsOnClick:!1,iconCreateFunction:function(e){return t.$leaflet.divIcon({html:t.generateClusterIcon(e.getChildCount()),iconSize:[0,0],iconAnchor:[0,0]})}}}},methods:{popupOptions:function(t,e){return{autoPanPadding:[0,0],closeButton:!1,keepInView:!0,className:"pointer-events-none",maxWidth:"auto",minWidth:"auto",offset:this.popupOffset(t,e)}},popupOffset:function(t){var e=t.category;var n=window.innerWidth<=620;return e?n?[0,350]:[0,400]:n?[0,300]:[0,350]},closePopup:function(){this.$refs.map.mapObject.closePopup()},generateClusterIcon:function(t){return'\n                <div class="absolute w-45 bottom-0 transform -translate-x-half pointer-events-none">\n                    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 38 58">\n                        <defs>\n                            <path id="cluster-badge" d="M4 2h30a2 2 0 0 1 2 2v37.99a2 2 0 0 1-.813 1.61L19.595 55.097a2 2 0 0 1-2.422-.036L2.765 43.755A2 2 0 0 1 2 42.182V4a2 2 0 0 1 2-2z" />\n                            <filter id="cluster-shadow" width="120.6%" height="112%" x="-10.3%" y="-4.6%" filterUnits="objectBoundingBox">\n                                <feOffset dy="1" in="SourceAlpha" result="shadowOffsetOuter" />\n                                <feGaussianBlur in="shadowOffsetOuter" result="shadowBlurOuter" stdDeviation="1" />\n                                <feColorMatrix in="shadowBlurOuter" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.204217657 0" />\n                            </filter>\n                            <linearGradient id="cluster-gradient" x1="39.493%" x2="61.61%" y1="83.062%" y2="16.099%">\n                                <stop offset="0%" stop-color="var(--yellow)" />\n                                <stop offset="100%" stop-color="var(--pink-primary)" />\n                            </linearGradient>\n                        </defs>\n                        <g fill="none" fill-rule="evenodd">\n                            <use fill="var(--black-hex)" filter="url(#cluster-shadow)" xlink:href="#cluster-badge" />\n                            <use fill="url(#cluster-gradient)" xlink:href="#cluster-badge" />\n                            <path stroke="var(--brown-primary)" stroke-width="1.25" d="M11.5 42.25h15l-7.5-10-7.5 10z" />\n                            <path stroke="var(--brown-primary)" stroke-width="1.25" d="M22 25.75h-6l3 4 3-4z" />\n                            <text x="18.5" y="17" fill="var(--white-hex)" font-family="Roboto Slab" font-size="9" text-anchor="middle">\n                                '.concat(t,"\n                            </text>\n                        </g>\n                    </svg>\n                </div>")}}},C=Object(y.a)(x,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("common-map-page",{scopedSlots:t._u([{key:"submenu",fn:function(){return[t._t("submenu")]},proxy:!0},{key:"map",fn:function(){return[n("common-map",{ref:"map",attrs:{"is-locked":Boolean(t.openItem),"is-rememberable":!1},scopedSlots:t._u([{key:"icons",fn:function(){return[n("div",{domProps:{innerHTML:t._s(t.generateClusterIcon(0))}}),t._v(" "),n("tribes-map-pin")]},proxy:!0}])},[t._v(" "),n("l-marker-cluster",{ref:"cluster",attrs:{options:t.clusterOptions}},t._l(t.items,(function(e,r){return n("l-marker",{key:r,attrs:{"lat-lng":[e.location.latitude,e.location.longitude]}},[n("l-icon",{attrs:{"icon-size":[0,0],"icon-anchor":[0,0]}},[n("button",{staticClass:"absolute w-45 bottom-0 transform -translate-x-half"},[n("tribes-map-pin",{attrs:{count:1,"is-active":t.openItem===e}})],1)]),t._v(" "),n("l-popup",{attrs:{options:t.popupOptions(e,r)},on:{add:function(n){t.openItem=e},remove:function(e){t.openItem=null}}},[n("tribes-map-item",{ref:"popup",refInFor:!0,attrs:{item:e,"is-open":t.openItem===e},on:{close:function(e){return t.closePopup()}}})],1)],1)})),1)],1)]},proxy:!0}],null,!0)})}),[],!1,null,null,null).exports,$=n(398),k=n(7),j=n(414),P=n(401),z=n(22),M={components:{ShapeOrnament2:j.a,CommonBlockMedia:P.a,CommonMediaPhoto:z.a,TribesTribeInfo:f.a},props:{item:{type:Object,required:!0},isReversed:{type:Boolean,required:!0}},computed:{ornamentClass:function(){return{hidden:!0,"md:block":!0,absolute:!0,"top-0":!0,"right-0":!0,"w-150":!0,transform:!0,"scale-x-flip":!0,"md:right-half":this.isReversed}},backgroundPhoto:function(){return this.$helpers.mediaByGroup(this.item.media,"tribe","background",!0)}}},B=Object(y.a)(M,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("common-block-media",{attrs:{"is-reversed":t.isReversed},scopedSlots:t._u([{key:"media",fn:function(){return[n("nuxt-link",{attrs:{to:t.$link.showTribe(t.item,null,t.$route.query)}},[n("common-media-photo",{attrs:{photo:t.backgroundPhoto,alt:t.item.name}})],1)]},proxy:!0},{key:"content",fn:function(){return[n("tribes-tribe-info",{attrs:{item:t.item}}),t._v(" "),n("shape-ornament-2",{class:t.ornamentClass})]},proxy:!0}])})}),[],!1,null,null,null).exports,S={components:{CommonBlockSection:$.a,CommonButton:k.a,TribesListItem:B},props:{items:{type:Array,default:function(){return[]}}}},L=Object(y.a)(S,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"flex-1 flex flex-col"},[t._t("submenu"),t._v(" "),t.items.length>0?n("common-block-section",{attrs:{"has-content-border":!0},scopedSlots:t._u([{key:"content",fn:function(){return t._l(t.items,(function(t,e){return n("tribes-list-item",{key:t.id,attrs:{item:t,"is-reversed":Boolean(e%2)}})}))},proxy:!0}],null,!1,2537242888)}):n("div",{staticClass:"min-h-300 flex-1 flex flex-col justify-center items-center"},[n("p",{staticClass:"mb-20"},[t._v("\n            "+t._s(t.$t("tribes.filters.no_results"))+"\n        ")]),t._v(" "),n("div",[n("common-button",{attrs:{label:t.$t("tribes.filters.buttons.clear"),type:"secondary",size:"small"},nativeOn:{click:function(e){return t.$emit("applyFilters",{})}}})],1)])],2)}),[],!1,null,null,null).exports,F=n(417),E=n(152),I=n(154),D=n(44),T=n(451),R=n(438),V=n(16),Z=n(29),H=n(452),A=n(454),G=n(402),N=n(415),W=n(418),J={components:{IconRatingEmpty:N.a,IconRatingFull:W.a},mixins:[G.a],props:{value:{type:[String,Number],default:0}},data:function(){return{hoverValue:0}},methods:{starIcon:function(t){return Math.ceil(Math.max(parseFloat(this.value),this.hoverValue))>=t?W.a:N.a},starClass:function(t){return{"w-35":!0,"h-35":!0,"text-brown-primary":!this.hoverValue||Math.ceil(this.hoverValue)<t,"text-pink-primary":Math.ceil(this.hoverValue)>=t}}}},X=Object(y.a)(J,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"flex -m-10"},t._l(5,(function(e){return n("button",{key:e,staticClass:"p-10",on:{mouseover:function(n){t.hoverValue=e},mouseleave:function(e){t.hoverValue=0},click:function(n){return t.$emit("change",e)}}},[n(t.starIcon(e),{tag:"div",class:t.starClass(e)})],1)})),0)}),[],!1,null,null,null).exports,U=n(466),Y=n(467),Q=n(468),K=n(469),tt=n(470),et=n(471),nt=n(472),it=n(473),st=n(474),ot=n(419),at=n(420),lt=n(421),ct=n(488),ut=n(489),pt=n(490),mt=n(491),ht=n(492),ft={components:{CommonBlockPanel:T.a,CommonBlockPanelButtons:R.a,CommonHeading:V.a,CommonButton:k.a,CommonContainer:Z.a,FormGroup:H.a,FormFieldChoice:A.a,FormInputRating:X},mixins:[D.a],props:{isOpen:{type:Boolean,default:!1},filterOptions:{type:Object,required:!0},filterValues:{type:Object,required:!0}},computed:{filterDefinitions:function(){return[{path:"region",isMultiselect:!1,heading:this.$t("tribes.filters.region.heading"),description:this.$t("tribes.filters.region.description"),choices:[{name:this.$t("dictionaries.regions.truncated.central_africa"),slug:"central_africa",icon:Y.a},{name:this.$t("dictionaries.regions.truncated.southern_africa"),slug:"southern_africa",icon:nt.a},{name:this.$t("dictionaries.regions.truncated.northern_africa"),slug:"northern_africa",icon:K.a},{name:this.$t("dictionaries.regions.truncated.south_america"),slug:"south_america",icon:it.a},{name:this.$t("dictionaries.regions.truncated.north_america"),slug:"north_america",icon:tt.a},{name:this.$t("dictionaries.regions.truncated.australia"),slug:"australia",icon:U.a},{name:this.$t("dictionaries.regions.truncated.europe"),slug:"europe",icon:Q.a},{name:this.$t("dictionaries.regions.truncated.southern_asia"),slug:"southern_asia",icon:st.a},{name:this.$t("dictionaries.regions.truncated.northern_asia"),slug:"northern_asia",icon:et.a}]},{path:"threshold",isMultiselect:!0,heading:this.$t("tribes.filters.threshold.heading"),description:this.$t("tribes.filters.threshold.description"),choices:[{icon:ot.a,name:this.$t("dictionaries.thresholds.mild"),slug:"mild"},{icon:at.a,name:this.$t("dictionaries.thresholds.moderate"),slug:"moderate"},{icon:lt.a,name:this.$t("dictionaries.thresholds.extreme"),slug:"extreme"}]},{path:"climate",isMultiselect:!1,heading:this.$t("tribes.filters.climate.heading"),description:this.$t("tribes.filters.climate.description"),choices:[{icon:ut.a,name:this.$t("dictionaries.climates.continental"),slug:"continental"},{icon:ct.a,name:this.$t("dictionaries.climates.arid"),slug:"arid"},{icon:mt.a,name:this.$t("dictionaries.climates.polar"),slug:"polar"},{icon:ht.a,name:this.$t("dictionaries.climates.tropical"),slug:"tropical"},{icon:pt.a,name:this.$t("dictionaries.climates.mild"),slug:"mild"}]}]}},watch:{isOpen:function(){this.data=this.$helpers.clone(this.filterValues)}},methods:{emitClose:function(){return this.$emit("close")},applyFilters:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.$emit("applyFilters",t),this.emitClose()}}},bt=Object(y.a)(ft,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"pointer-events-none fixed inset-10 top-115 md:top-140"},[n("transition",{attrs:{"enter-active-class":"transform origin-top transition-reveal","leave-active-class":"transform origin-top transition-reveal pointer-events-none","enter-class":"scale-unrevealed opacity-0","enter-to-class":"opacity-100","leave-class":"opacity-250","leave-to-class":"scale-unrevealed opacity-0"}},[t.isOpen?n("common-block-panel",{directives:[{name:"clickaway",rawName:"v-clickaway",value:t.emitClose,expression:"emitClose"}],staticClass:"container-lg pointer-events-auto max-h-full",on:{close:t.emitClose},scopedSlots:t._u([{key:"heading",fn:function(){return[n("common-heading",{staticClass:"text-brown-primary",attrs:{"is-slab":!0,type:"sevenfold"}},[t._v("\n                    "+t._s(t.$t("tribes.filters.heading"))+"\n                ")])]},proxy:!0},{key:"default",fn:function(){return[n("common-container",{attrs:{"has-margin":!1,size:"xs"}},[t._l(t.filterDefinitions,(function(filter,e){return n("form-group",{key:e,staticClass:"mt-10 md:mt-20",attrs:{heading:filter.heading,description:filter.description}},[n("form-field-choice",{attrs:{value:{data:t.data,path:filter.path},choices:filter.choices,"is-multiselect":filter.isMultiselect,"icon-size":25},on:{change:function(e){return t.change(e)}}})],1)})),t._v(" "),n("form-group",{staticClass:"mt-10 md:mt-20",attrs:{heading:t.$t("tribes.filters.rating.heading"),description:t.$t("tribes.filters.rating.description")}},[n("div",{staticClass:"flex justify-center"},[n("form-input-rating",{attrs:{value:t.data.rating},on:{change:function(e){return t.change({path:"rating",value:e})}}})],1)])],2)]},proxy:!0},{key:"footer",fn:function(){return[n("common-container",{attrs:{"is-compact":!0,size:"xs"}},[n("common-block-panel-buttons",{scopedSlots:t._u([{key:"primary",fn:function(){return[n("common-button",{attrs:{label:t.$t("tribes.filters.buttons.reset"),"is-stretched":!0,type:"secondary",size:"small"},nativeOn:{click:function(e){return t.applyFilters()}}})]},proxy:!0},{key:"secondary",fn:function(){return[n("common-button",{attrs:{label:t.$t("tribes.filters.buttons.apply"),"is-stretched":!0,type:"primary",size:"small"},nativeOn:{click:function(e){return t.applyFilters(t.data)}}})]},proxy:!0}],null,!1,3450828120)})],1)]},proxy:!0}],null,!1,3908858369)}):t._e()],1)],1)}),[],!1,null,null,null).exports;function vt(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function yt(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?vt(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):vt(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var gt={components:{CommonSubmenu:E.a,CommonSubmenuBody:I.a,CommonButton:k.a,IconMenuDropdown:F.a,TribesSubmenuFilters:bt},props:{items:{type:Array,required:!0},filterOptions:{type:Object,required:!0},filterValues:{type:Object,required:!0}},data:function(){return{isFiltersPanelOpen:!1}},computed:{filtersIconClass:function(){return{"w-15":!0,transform:this.isFiltersPanelOpen,"scale-y-flip":this.isFiltersPanelOpen}},countLabel:function(){var t,e=this.items.length,n=this.$t("dictionaries.regions.full.".concat(this.filterValues.region));return this.$tc((null===(t=this.filterValues.region)||void 0===t?void 0:t.length)?"tribes.submenu.count_label.with_region":"tribes.submenu.count_label.no_region",e,{count:'<b class="font-bold">'.concat(e,"</b>"),region:'<strong class="font-bold text-pink-primary">'.concat(n,"</strong>")})},viewButtonRoute:function(){return this.$link.showTribes(yt(yt({},this.$route.query),{},{view:"list"===this.$route.query.view?"map":"list"}))},viewButtonLabel:function(){return"list"===this.$route.query.view?this.$t("tribes.submenu.map_view"):this.$t("tribes.submenu.list_view")}},watch:{$route:function(){this.isFiltersPanelOpen=!1}},methods:{toggleFiltersPanelOpen:function(){this.isFiltersPanelOpen=!this.isFiltersPanelOpen}}},_t=Object(y.a)(gt,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("common-submenu",[n("common-submenu-body",[n("div",{staticClass:"flex flex-wrap md:flex-no-wrap items-center p-5"},[n("div",{staticClass:"w-half md:w-110 order-1 md:order-none pr-2 md:pl-0"},[n("common-button",{attrs:{label:t.$t("tribes.submenu.filter"),"is-centered":!1,"is-stretched":!0,event:"showFilters",type:"primary",size:"small"},nativeOn:{click:function(e){return t.toggleFiltersPanelOpen(e)}},scopedSlots:t._u([{key:"icon",fn:function(){return[n("icon-menu-dropdown",{class:t.filtersIconClass})]},proxy:!0}])})],1),t._v(" "),n("p",{staticClass:"w-full md:w-auto hidden md:flex items-center justify-center mb-5 md:mb-0 h-25 md:h-auto text-center mx-auto font-slab text-13 tracking-wider"},[n("span",{domProps:{innerHTML:t._s(t.countLabel)}})]),t._v(" "),n("div",{staticClass:"w-half md:w-110 order-1 md:order-none pl-3 md:pl-0"},[n("common-button",{attrs:{label:t.viewButtonLabel,route:t.viewButtonRoute,"is-stretched":!0,type:"secondary",size:"small"}})],1)])]),t._v(" "),n("tribes-submenu-filters",{attrs:{"is-open":t.isFiltersPanelOpen,"filter-options":t.filterOptions,"filter-values":t.filterValues},on:{applyFilters:function(e){return t.$emit("applyFilters",e)},close:t.toggleFiltersPanelOpen}})],1)}),[],!1,null,null,null).exports;function wt(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function Ot(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?wt(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):wt(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var xt={layout:function(t){return"list"===t.route.query.view?"default":"map"},components:{TribesMap:C,TribesList:L,TribesSubmenu:_t},asyncData:function(t){return Object(o.a)(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.$axios,e.next=3,l.a.getTribes(n);case 3:return r=e.sent,e.abrupt("return",{tribes:r});case 5:case"end":return e.stop()}}),e)})))()},data:function(){return{view:C}},computed:{filterOptions:function(){return{region:["central_africa","southern_africa","northern_africa","south_america","north_america","australia","europe","southern_asia","northern_asia"],threshold:["mild","moderate","extreme"],climate:["continental","arid","polar","tropical","mild"]}},sanitizedFilterValues:function(){var t,e,n=this,r=Ot(Ot({},this.$route.query.rating&&{rating:parseInt(this.$route.query.rating)}),Object.keys({region:this.$route.query.region,climate:this.$route.query.climate,threshold:this.$route.query.threshold}).reduce((function(t,e){var r=n.$route.query[e];return r&&(t[e]=(Array.isArray(r)?r:[r]).filter((function(t){return n.filterOptions[e].includes(t)}))),t}),{}));return Ot(Ot({},r),{},{region:null===(t=r.region)||void 0===t?void 0:t[0],climate:null===(e=r.climate)||void 0===e?void 0:e[0]})},filteredTribes:function(){var t=this.sanitizedFilterValues;return this.tribes.filter((function(e){var n,r,o,l,c=e.region_name,m=e.climate,d=null===(n=e.experiences)||void 0===n||null===(r=n[0])||void 0===r?void 0:r.challenge,h=null===(o=e.experiences)||void 0===o||null===(l=o[0])||void 0===l?void 0:l.rating;return!(t.region&&t.region.length&&!t.region.includes(c)||t.climate&&t.climate.length&&!t.climate.includes(m)||t.threshold&&t.threshold.length&&!t.threshold.includes(d)||t.rating&&parseFloat(h)<t.rating)}))}},methods:{applyFilters:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.$router.replace({query:Ot({view:this.$route.query.view,zoom:this.$route.query.zoom,lat:this.$route.query.lat,lng:this.$route.query.lng},t)})}},head:function(){return{title:this.$t("tribes.title"),meta:[{hid:"description",name:"description",content:this.$t("tribes.meta_description")}]}}},Ct=Object(y.a)(xt,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("list"===t.$route.query.view?"tribes-list":"tribes-map",{tag:"tribes-map",attrs:{items:t.filteredTribes},on:{applyFilters:t.applyFilters},scopedSlots:t._u([{key:"submenu",fn:function(){return[n("tribes-submenu",{attrs:{items:t.filteredTribes,"filter-options":t.filterOptions,"filter-values":t.sanitizedFilterValues},on:{applyFilters:t.applyFilters}})]},proxy:!0}])})}),[],!1,null,null,null);e.default=Ct.exports}}]);