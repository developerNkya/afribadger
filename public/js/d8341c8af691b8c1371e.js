(window.webpackJsonp=window.webpackJsonp||[]).push([[53],{400:function(t,e,n){"use strict";n(20),n(11),n(9),n(8),n(15);var r=n(6),o={components:{IconInfo:n(35).a},props:{label:{type:String,default:null},hint:{type:String,default:null},error:{type:String,default:null},errorPlacement:{type:String,default:"below"},isInline:{type:Boolean,default:!1},isOnDark:{type:Boolean,default:!0}},computed:{fieldClass:function(){return{"md:flex":this.isInline,"md:items-center":this.isInline}},labelClass:function(){var t=this.$slots.actions||"above"===this.errorPlacement;return{block:!t,flex:t,"items-center":t,"mb-15":!0,"md:mb-0":this.isInline,"md:mr-20":this.isInline}},errorClass:function(){return{"text-11":!0,flex:!0,"items-center":!0,"opacity-80":!0,"mt-10":"below"===this.errorPlacement,"ml-auto":"above"===this.errorPlacement}}}},l=n(0),c=Object(l.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.fieldClass},[t.label?n("label",{class:t.labelClass},[t._t("label",[t._v("\n            "+t._s(t.label)+"\n        ")]),t._v(" "),t.$slots.actions?n("div",{staticClass:"ml-auto"},[t._t("actions")],2):t._e(),t._v(" "),t.error&&"above"===t.errorPlacement?n("p",{class:t.errorClass},[t._v("\n            "+t._s(t.error)+"\n\n            "),n("icon-info",{staticClass:"ml-5 h-15 w-15 text-pink-primary"})],1):t._e()],2):t._e(),t._v(" "),n("div",[t._t("input"),t._v(" "),t.hint?n("p",{staticClass:"text-11 mt-10"},[t._v("\n            "+t._s(t.hint)+"\n        ")]):t._e(),t._v(" "),t.error&&"below"===t.errorPlacement?n("p",{class:t.errorClass},[t._v("\n            "+t._s(t.error)+"\n\n            "),t.isOnDark?t._e():n("icon-info",{staticClass:"ml-5 h-15 w-15 text-pink-primary"})],1):t._e()],2)])}),[],!1,null,null,null).exports;function h(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function d(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?h(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):h(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}e.a={components:{FormField:c},props:{label:{type:String,default:null},hint:{type:String,default:null},placeholder:{type:String,default:null},error:{type:String,default:null},errorPlacement:{type:String,default:void 0},value:{type:Object,required:!0},attrs:{type:Object,default:function(){return{}}},isInline:{type:Boolean,default:!1},isOnDark:{type:Boolean,default:!0}},computed:{fieldProps:function(){return{label:this.label,hint:this.hint,error:this.error,errorPlacement:this.errorPlacement,isInline:this.isInline,isOnDark:this.isOnDark}},inputProps:function(){return d(d({},this.attrs),{},{placeholder:this.placeholder,value:this.$helpers.get(this.value.data,this.value.path)})}},methods:{change:function(t){this.$emit("change",{path:this.value.path,value:t})}}}},402:function(t,e,n){"use strict";var r=n(150);e.a={mixins:[r.a],props:{isFocused:{type:Boolean,default:!1},isRequired:{type:Boolean,default:!1},isInvalid:{type:Boolean,default:!1},attrs:{type:Object,default:null}},methods:{change:function(t){this.$emit("change",t instanceof Event?t.target.value:t)}}}},403:function(t,e,n){"use strict";var r={mixins:[n(402).a],props:{type:{type:String,default:"text"},placeholder:{type:String,default:null},isPadded:{type:Boolean,default:!0},isCompact:{type:Boolean,default:!1}},computed:{inputClass:function(){return{"h-45":!0,"py-10":!0,"outline-none":!0,"w-full":!0,"min-w-0":!0,"leading-copy":!0,"focus:font-bold":!0,"text-gray-primary":!0,"px-20":!this.isCompact&&this.isPadded,"shadow-card":!this.isCompact,"rounded-2":!this.isCompact,"rounded-0":this.isCompact,"bg-white":!this.isCompact,"font-slab":!0,"text-15":!0,"border-b-1":this.isCompact,"border-black-10":this.isCompact,"focus:border-black-60":this.isCompact,"bg-transparent":this.isCompact,"pt-0":this.isCompact}}}},o=n(0),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("input",{class:t.inputClass,attrs:{type:t.type,placeholder:t.placeholder,autofocus:t.isFocused},on:{input:function(e){return t.change(e)}}})}),[],!1,null,null,null);e.a=component.exports},406:function(t,e,n){"use strict";var r=n(400),o={components:{FormInputText:n(403).a},mixins:[r.a]},l=n(0),component=Object(l.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("form-field",t._b({scopedSlots:t._u([{key:"actions",fn:function(){return[t._t("actions")]},proxy:!0},{key:"input",fn:function(){return[n("form-input-text",t._b({on:{change:function(e){return t.change(e)}}},"form-input-text",t.inputProps,!1))]},proxy:!0}],null,!0)},"form-field",t.fieldProps,!1))}),[],!1,null,null,null);e.a=component.exports},410:function(t,e,n){"use strict";var r=n(153),o=n(0),l=Object(o.a)({},(function(){var t=this.$createElement,e=this._self._c||t;return e("svg",this._g({attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 63 80"}},this.$listeners),[e("g",{attrs:{fill:"var(--yellow)"}},[e("path",{attrs:{d:"M0 80V32h48z"}}),e("path",{attrs:{d:"M63.196-.402L23.598 39.196-16-.402z"}})])])}),[],!1,null,null,null).exports,c=n(16),h={components:{ShapeOrnament1:r.a,ShapeOrnament4:l,CommonHeading:c.a},props:{isSloganShown:{type:Boolean,default:!0}}},d=Object(o.a)(h,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"relative z-above"},[n("section",{staticClass:"rounded-5 bg-pink-secondary shadow-section md:w-500 pt-40 pb-20 sm:py-60"},[t.isSloganShown?n("common-heading",{staticClass:"text-yellow text-center px-20 sm:px-30 mb-30",attrs:{type:"secondary"}},[t._v("\n            "+t._s(t.$t("auth.common.slogan"))+"\n        ")]):t._e(),t._v(" "),n("div",{staticClass:"relative px-20 text-white text-center text-14 font-slab tracking-wider"},[n("div",{staticClass:"w-full absolute left-0 hidden md:flex justify-between pointer-events-none"},[n("div",[n("shape-ornament-4",{staticClass:"h-80"}),t._v(" "),n("shape-ornament-4",{staticClass:"h-80 transform scale-y-flip"})],1),t._v(" "),n("div",{staticClass:"transform scale-x-flip"},[n("shape-ornament-4",{staticClass:"h-80"}),t._v(" "),n("shape-ornament-4",{staticClass:"h-80 transform scale-y-flip"})],1)]),t._v(" "),n("div",{staticClass:"relative md:w-250 min-h-160 mx-auto"},[t._t("default")],2)])],1),t._v(" "),n("div",{staticClass:"flex justify-center relative z-below"},[n("shape-ornament-1",{staticClass:"h-30"}),t._v(" "),n("shape-ornament-1",{staticClass:"h-30 transform scale-x-flip"})],1)])}),[],!1,null,null,null);e.a=d.exports},424:function(t,e,n){"use strict";var r=n(0),o={components:{IconFacebook:Object(r.a)({},(function(){var t=this.$createElement,e=this._self._c||t;return e("svg",this._g({attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}},this.$listeners),[e("path",{attrs:{fill:"currentColor",d:"M22.675 0H1.325C.593 0 0 .593 0 1.325v21.351C0 23.407.593 24 1.325 24H12.82v-9.294H9.692v-3.622h3.128V8.413c0-3.1 1.893-4.788 4.659-4.788 1.325 0 2.463.099 2.795.143v3.24l-1.918.001c-1.504 0-1.795.715-1.795 1.763v2.313h3.587l-.467 3.622h-3.12V24h6.116c.73 0 1.323-.593 1.323-1.325V1.325C24 .593 23.407 0 22.675 0z"}})])}),[],!1,null,null,null).exports,CommonButton:n(7).a},props:{label:{type:String,required:!0}},methods:{redirectToFacebook:function(){var t=["client_id=".concat("301808513800885"),"redirect_uri=".concat("https://nomadictribe.com/sign/facebook"),"response_type=token","scope=email"].join("&");window.location="https://www.facebook.com/v6.0/dialog/oauth?".concat(t)}}},l=Object(r.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("common-button",{staticClass:"shadow-card",attrs:{"is-stretched":!0,type:"quaternary",size:"medium"},nativeOn:{click:function(e){return t.redirectToFacebook()}},scopedSlots:t._u([{key:"label",fn:function(){return[n("icon-facebook",{staticClass:"h-20 w-20 mr-10"}),t._v(" "),n("span",[t._v(t._s(t.label))])]},proxy:!0}])})}),[],!1,null,null,null);e.a=l.exports},455:function(t,e,n){"use strict";var r={props:{route:{type:[String,Object],required:!0},label:{type:String,required:!0}}},o=n(0),component=Object(o.a)(r,(function(){var t=this.$createElement;return(this._self._c||t)("nuxt-link",{staticClass:"text-13 text-yellow hover:text-white p-5",attrs:{to:this.route}},[this._v("\n    "+this._s(this.label)+"\n")])}),[],!1,null,null,null);e.a=component.exports},518:function(t,e,n){"use strict";n.r(e);var r=n(410),o=(n(53),n(148)),l=n(44),c=n(149),h=n(7),d=n(406),m=n(455),f=n(424),v={components:{IconMenuNext:c.a,CommonButton:h.a,FormFieldText:d.a,AuthLink:m.a,AuthFacebook:f.a},mixins:[l.a],data:function(){return{step:1}},computed:{isDisabled:function(){return 1===this.step?!this.data.email:!this.data.password}},methods:{handleFormSubmission:function(){var t=this;if(1===this.step)return this.step=2,void this.focusAutofocusInput(1);this.handleRequest(o.a.logIn(this.$axios,this.data)).then((function(e){t.$session.logIn(e._headers.authorization.replace("Bearer ",""),e),t.$bus.$emit("auth.sign_in",{user:e,method:"email"}),t.$emit("sent")})).catch((function(){t.step=1,t.focusAutofocusInput(0)}))}}},_=n(0),y=Object(_.a)(v,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("form",{attrs:{novalidate:""},on:{submit:function(e){return e.preventDefault(),t.handleFormSubmission()}}},[n("form-field-text",{directives:[{name:"show",rawName:"v-show",value:1===t.step,expression:"step === 1"}],key:"email",attrs:{error:t.errorMessageFor("email",!0),label:t.$t("auth.login.fields.email.label"),placeholder:t.$t("auth.login.fields.email.placeholder"),value:{data:t.data,path:"email"},attrs:{autofocus:!0,type:"email",required:1===t.step,class:"text-center"}},on:{change:function(e){return t.change(e)}}}),t._v(" "),n("form-field-text",{directives:[{name:"show",rawName:"v-show",value:2===t.step,expression:"step === 2"}],key:"password",attrs:{label:t.$t("auth.login.fields.password.label"),value:{data:t.data,path:"password"},attrs:{autofocus:!0,type:"password",required:2===t.step,class:"text-center"}},on:{change:function(e){return t.change(e)}}}),t._v(" "),n("common-button",{staticClass:"mt-10 shadow-card text-pink-primary",attrs:{label:t.$t("auth.common.submit"),"is-stretched":!0,"is-processing":t.isSending,"is-disabled":t.isDisabled,type:"secondary",size:"medium"},scopedSlots:t._u([{key:"icon",fn:function(){return[n("icon-menu-next",{staticClass:"h-20 w-20"})]},proxy:!0}])})],1),t._v(" "),2===t.step?n("div",{staticClass:"mt-20"},[n("auth-link",{attrs:{label:t.$t("auth.login.forgot_password"),route:"/sign/reset"}})],1):t._e(),t._v(" "),n("p",{staticClass:"mt-20"},[t._v("\n        "+t._s(t.$t("auth.common.or"))+"\n    ")]),t._v(" "),n("auth-facebook",{staticClass:"mt-20",attrs:{label:t.$t("auth.login.with_facebook")}}),t._v(" "),n("div",{staticClass:"mt-30"},[n("p",{staticClass:"mb-10"},[t._v("\n            "+t._s(t.$t("auth.login.dont_have_account"))+"\n        ")]),t._v(" "),n("auth-link",{attrs:{label:t.$t("auth.login.register"),route:"/sign/up"}})],1)],1)}),[],!1,null,null,null).exports,w={scrollToTop:!0,components:{AuthBlock:r.a,AuthLogin:y},methods:{afterLogin:function(){window.location=this.$router.resolve(this.$route.query.redirect||{path:"/",query:{welcome:!0}}).href}},head:function(){return{title:this.$t("auth.login.title")}}},x=Object(_.a)(w,(function(){var t=this.$createElement,e=this._self._c||t;return e("auth-block",[e("auth-login",{on:{sent:this.afterLogin}})],1)}),[],!1,null,null,null);e.default=x.exports}}]);