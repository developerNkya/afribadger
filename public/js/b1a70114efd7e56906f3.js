(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{399:function(t,e,n){"use strict";n(10);var o=n(5),r=(n(39),n(59),n(37)),l={props:{user:{type:Object,required:!0}},computed:{isFollowRequestable:function(){return this.$session.isUserPresent()&&this.user.id!==this.$session.getUser().id&&this.user.is_private_profile&&!this.user.is_blocked},isFollowRequested:function(){return"pending"===this.user.followed_by_current_status},isFollowable:function(){return this.$session.isUserPresent()&&!this.user.is_private_profile&&this.user.id!==this.$session.getUser().id},isFollowing:function(){return"approved"===this.user.followed_by_current_status},slotName:function(){var t;return null===(t=[{condition:this.isFollowing,name:"following"},{condition:this.isFollowRequested,name:"follow-requested"},{condition:this.isFollowRequestable,name:"follow-requestable"},{condition:this.isFollowable,name:"followable"}].find((function(t){return t.condition})))||void 0===t?void 0:t.name}},methods:{performAction:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.isFollowRequested&&(t.isFollowable||t.isFollowRequestable)){e.next=2;break}return e.abrupt("return");case 2:if(t.$session.isCompleteProfile()){e.next=4;break}return e.abrupt("return",t.$session.showCompleteProfileMessage());case 4:if(!t.isFollowing){e.next=8;break}return e.next=7,r.a.unfollowUser(t.$axios,t.user.id);case 7:return e.abrupt("return",e.sent);case 8:if(!t.isFollowRequestable){e.next=12;break}return e.next=11,r.a.requestFollowUser(t.$axios,t.user.id);case 11:return e.abrupt("return",e.sent);case 12:return e.next=14,r.a.followUser(t.$axios,t.user.id);case 14:case"end":return e.stop()}}),e)})))()}}},c=n(0),component=Object(c.a)(l,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{on:{click:function(e){return e.preventDefault(),t.performAction()}}},[t._t(t.slotName)],2)}),[],!1,null,null,null);e.a=component.exports},405:function(t,e,n){"use strict";var o=n(17),r=n(34),l=n(399),c={components:{CommonUserAvatar:o.a,CommonUserName:r.a,CommonToggleFollow:l.a},props:{user:{type:Object,required:!0}},methods:{actionClass:function(t){return{"p-10":!0,"font-slab":!0,"text-13":!0,"leading-heading":!0,"tracking-wider":!0,"text-pink-primary":!0,"hover:text-brown-primary":!t,"opacity-50":t}}}},h=n(0),component=Object(h.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"p-20 pr-130 flex relative"},[n("nuxt-link",{staticClass:"h-40 -my-5 pl-45 relative flex items-center w-full group",attrs:{to:t.$link.showUser(t.user)}},[n("div",{staticClass:"absolute left-0 p-10 -mx-10"},[n("common-user-avatar",{staticClass:"h-30 w-30",attrs:{user:t.user}})],1),t._v(" "),n("div",{staticClass:"md:flex md:items-center font-slab text-13 tracking-wider w-full"},[n("common-user-name",{staticClass:"max-w-180",attrs:{user:t.user,"is-truncated":!0}}),t._v(" "),n("p",{staticClass:"block p-10 -m-10 md:ml-0 truncate max-w-full md:max-w-200 transition-250 transition-color text-pink-primary group-hover:text-brown-primary"},[t._v("\n                @"+t._s(t.user.username)+"\n            ")])],1)]),t._v(" "),n("div",{staticClass:"absolute right-10 top-half transform -translate-y-half"},[t._t("actions",[n("common-toggle-follow",{attrs:{user:t.user},scopedSlots:t._u([{key:"follow-requestable",fn:function(){return[n("button",{class:t.actionClass()},[t._v("\n                        "+t._s(t.$t("profile.interactions.request_follow"))+"\n                    ")])]},proxy:!0},{key:"follow-requested",fn:function(){return[n("button",{class:t.actionClass(!0),attrs:{disabled:""}},[t._v("\n                        "+t._s(t.$t("profile.interactions.request_pending"))+"\n                    ")])]},proxy:!0},{key:"followable",fn:function(){return[n("button",{class:t.actionClass()},[t._v("\n                        "+t._s(t.$t("profile.interactions.follow"))+"\n                    ")])]},proxy:!0},{key:"following",fn:function(){return[n("button",{class:t.actionClass()},[t._v("\n                        "+t._s(t.$t("profile.interactions.unfollow"))+"\n                    ")])]},proxy:!0}])})],{actionClass:t.actionClass})],2)],1)}),[],!1,null,null,null);e.a=component.exports},426:function(t,e,n){"use strict";var o=n(6),r={props:{heading:{type:String,default:null},items:{type:Array,required:!0},origin:{type:String,default:"right"},isTruncated:{type:Boolean,default:!1},isOpeningUp:{type:Boolean,default:!1}},data:function(){return{isOpen:!1}},computed:{dropdownClass:function(){var t;return t={"transition-reveal":!0,transform:!0},Object(o.a)(t,"origin-top-".concat(this.origin),!this.isOpeningUp),Object(o.a)(t,"origin-bottom-".concat(this.origin),this.isOpeningUp),Object(o.a)(t,"".concat(this.isOpeningUp?"bottom":"top","-full"),!0),Object(o.a)(t,"".concat(this.origin,"-0"),!0),Object(o.a)(t,"mt-5",!this.isOpeningUp),Object(o.a)(t,"mb-5",this.isOpeningUp),Object(o.a)(t,"whitespace-no-wrap",!this.isTruncated),Object(o.a)(t,"absolute",!0),Object(o.a)(t,"z-floating",!0),Object(o.a)(t,"bg-gray-quaternary",!0),Object(o.a)(t,"border-1",!0),Object(o.a)(t,"border-black-5",!0),Object(o.a)(t,"py-9",!0),Object(o.a)(t,"px-20",!0),Object(o.a)(t,"shadow-dropdown",!0),Object(o.a)(t,"rounded-2",!0),Object(o.a)(t,"overflow-hidden",!0),t}},watch:{isOpen:function(t){this.$emit("toggle",t)}},methods:{toggle:function(){this.isOpen=!this.isOpen,this.$emit(this.isOpen?"open":"close")},close:function(){this.isOpen=!1},emitEvent:function(t){this.$emit(t),this.close()},itemClass:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return{block:!0,"w-full":!0,"max-w-300":this.isTruncated,truncate:this.isTruncated,"min-w-110":!0,"text-left":!0,"font-slab":!0,"text-12":!0,"tracking-wider":!0,"p-6":!0,"-mx-6":!0,"text-brown-primary":!t,"text-pink-primary":t,"hover:text-brown-primary":t,"border-t-1":!0,"border-black-5":!0,"first:border-t-0":!0}}}},l=n(0),component=Object(l.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"clickaway",rawName:"v-clickaway",value:t.close,expression:"close"}],staticClass:"relative"},[n("div",{staticClass:"block",on:{click:function(e){return t.toggle()}}},[t._t("default")],2),t._v(" "),n("transition",{attrs:{"enter-active-class":"transition-100","leave-active-class":"transition-250","enter-class":"scale-unrevealed opacity-0","enter-to-class":"opacity-100","leave-class":"opacity-100","leave-to-class":"scale-unrevealed opacity-0"}},[t.isOpen&&t.items.length?n("div",{class:t.dropdownClass},[t.heading?n("h5",{staticClass:"text-12 text-black-60 py-6"},[t._v("\n                "+t._s(t.heading)+"\n            ")]):t._e(),t._v(" "),t._l(t.items,(function(e,o){var label=e.label,r=e.route,l=e.event;return[r?n("nuxt-link",{key:o,class:t.itemClass(),attrs:{to:r}},[t._v("\n                    "+t._s(label)+"\n                ")]):l?n("button",{key:o,class:t.itemClass(),on:{click:function(e){return t.emitEvent(l)}}},[t._v("\n                    "+t._s(label)+"\n                ")]):n("p",{key:o,class:t.itemClass(!1)},[t._v("\n                    "+t._s(label)+"\n                ")])]}))],2):t._e()])],1)}),[],!1,null,null,null);e.a=component.exports},433:function(t,e,n){"use strict";var o=n(0),component=Object(o.a)({},(function(){var t=this.$createElement,e=this._self._c||t;return e("svg",this._g({attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 40 40"}},this.$listeners),[e("g",{attrs:{fill:"none","fill-rule":"evenodd"}},[e("path",{attrs:{fill:"currentColor","fill-rule":"nonzero",d:"M0 38V2a2 2 0 012-2h36a2 2 0 012 2v36a2 2 0 01-2 2H2a2 2 0 01-2-2z"}}),e("path",{attrs:{stroke:"var(--white-hex)","stroke-linecap":"round","stroke-width":"2",d:"M12 20.243L16.91 26 28 13"}})])])}),[],!1,null,null,null);e.a=component.exports},437:function(t,e,n){"use strict";var o=n(0),component=Object(o.a)({},(function(){var t=this.$createElement,e=this._self._c||t;return e("svg",this._g({attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 40 40"}},this.$listeners),[e("g",{attrs:{fill:"none","fill-rule":"evenodd"}},[e("path",{attrs:{fill:"var(--gray-sixfold)","fill-rule":"nonzero",d:"M0 38V2a2 2 0 012-2h36a2 2 0 012 2v36a2 2 0 01-2 2H2a2 2 0 01-2-2z"}}),e("path",{attrs:{d:"M19.5 11.773v15.454M12.75 19.5h13.5",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5"}})])])}),[],!1,null,null,null);e.a=component.exports},441:function(t,e,n){"use strict";n(20),n(11),n(9),n(8),n(15);var o=n(6),r=n(437),l=n(433),c=n(0),h=Object(c.a)({},(function(){var t=this.$createElement,e=this._self._c||t;return e("svg",this._g({attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}},this.$listeners),[e("g",{attrs:{fill:"none","fill-rule":"evenodd",stroke:"currentColor"}},[e("path",{attrs:{"stroke-width":"1.5",d:"M1.06 9L12 19.94 22.94 9 18 4.06l-6 6-6-6L1.06 9z"}}),e("path",{attrs:{"stroke-linecap":"square",d:"M3 11h18"}})])])}),[],!1,null,null,null).exports,d=n(487),f=Object(c.a)({},(function(){var t=this.$createElement,e=this._self._c||t;return e("svg",this._g({attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}},this.$listeners),[e("g",{attrs:{fill:"none","fill-rule":"evenodd",stroke:"currentColor"}},[e("path",{attrs:{"stroke-width":"1.5",d:"M1 17.8V1h22v21l-5.5-4.2H1z"}}),e("path",{attrs:{"stroke-linecap":"square",d:"M1.5 9.7h21"}})])])}),[],!1,null,null,null).exports,m=Object(c.a)({},(function(){var t=this.$createElement,e=this._self._c||t;return e("svg",this._g({attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}},this.$listeners),[e("g",{attrs:{fill:"none","fill-rule":"evenodd"}},[e("path",{attrs:{fill:"currentColor","fill-rule":"nonzero",d:"M22.804 22.804H.946V3.054h1.5l.001 18.249h18.857V3.053h1.5z"}}),e("path",{attrs:{stroke:"currentColor","stroke-linecap":"square",d:"M17.286 8l-5.143-5L7 8m-5 5h19.967"}})])])}),[],!1,null,null,null).exports,v=n(485),w=n(486),k=n(426);function _(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function C(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?_(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):_(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var x={components:{IconUserFollow:r.a,IconUserFollowing:l.a,IconSocialLike:h,IconSocialLiked:d.a,IconSocialComment:f,IconSocialShare:m,CommonToggleLike:v.a,CommonPostLikers:w.a,CommonDropdown:k.a},props:{post:{type:Object,required:!0},hasLabels:{type:Boolean,default:!1},hasCompactLabels:{type:Boolean,default:!1},areCommentsOpenable:{type:Boolean,default:!1},areInteractionsOpenUp:{type:Boolean,default:!1},isOnDark:{type:Boolean,default:!1}},computed:{itemClass:function(){return{flex:!0,"items-center":!0,group:!0,"py-10":!0,"-my-10":!0,"pl-10":!(this.hasLabels||this.hasCompactLabels),"pl-5":this.hasLabels||this.hasCompactLabels,"first:pl-0":!0}},commentsCount:function(){var t,e;return(null===(t=this.post)||void 0===t||null===(e=t.counts)||void 0===e?void 0:e.comments)||0},labelClass:function(){return{block:!0,"p-10":!0,"-my-10":!0,"leading-none":!0,"text-13":!0,"font-slab":this.hasCompactLabels,"text-pink-primary":this.hasCompactLabels,"sm:hidden":!(this.hasLabels||this.hasCompactLabels),"tracking-wider":this.hasLabels||this.hasCompactLabels,"transition-250":this.hasLabels||this.hasCompactLabels,"transition-color":this.hasLabels||this.hasCompactLabels}},commentsLabelClass:function(){return C(C({},this.labelClass),{},{"group-hover:text-brown-primary":!this.isOnDark,"group-hover:text-white":this.isOnDark})},shareLabelClass:function(){return C(C({},this.labelClass),{},{hidden:this.hasCompactLabels})},shareProps:function(){return{heading:this.$t("community.actions.post_share.heading"),items:[{label:this.$t("community.actions.post_share.feed"),event:"share-to-feed"},{label:this.$t("community.actions.post_share.chat"),event:"share-to-chat"}]}}},methods:{iconClass:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return{"h-20":!0,"w-20":!0,"transition-250":!0,"transition-color":!0,"text-pink-primary":!0,"hover:text-brown-primary":!this.isOnDark,"hover:text-white":this.isOnDark,"group-hover:text-brown-primary":t&&!this.isOnDark,"group-hover:text-white":t&&this.isOnDark}},likesLabelClass:function(t){return C(C({},this.labelClass),{},{"hover:text-brown-primary":t>0&&!this.isOnDark,"hover:text-white":t>0&&this.isOnDark})},shareToFeed:function(){return this.$session.isUserPresent()?this.$session.isCompleteProfile()?void this.$store.dispatch("modals/openSharePostToFeedModal",this.post):this.$session.showCompleteProfileMessage():this.$session.showSignInMessage()},shareToChat:function(){return this.$session.isUserPresent()?this.$session.isCompleteProfile()?void this.$store.dispatch("modals/openSharePostToChatModal",this.post):this.$session.showCompleteProfileMessage():this.$session.showSignInMessage()}}},y=Object(c.a)(x,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"flex pointer-events-none"},[n("common-toggle-like",{class:t.itemClass,attrs:{post:t.post},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.count,r=e.isLiked;return[n("button",{staticClass:"block pointer-events-auto"},[n(r?"icon-social-liked":"icon-social-like",{tag:"div",class:t.iconClass(!1)})],1),t._v(" "),n("common-post-likers",{class:o>0?"pointer-events-auto":"pointer-events-none",attrs:{post:t.post},nativeOn:{click:function(t){t.stopPropagation()}}},[n("button",{class:t.likesLabelClass(o)},[t._v("\n                "+t._s(t.hasCompactLabels?o:t.$tc("community.interactions.likes",o,{count:o}))+"\n            ")])])]}}])}),t._v(" "),n(t.areCommentsOpenable?"button":"nuxt-link",{tag:"nuxt-link",staticClass:"pointer-events-auto",class:t.itemClass,attrs:{to:t.areCommentsOpenable?null:t.$link.showPost(t.post)},on:{click:function(e){t.areCommentsOpenable&&t.$emit("openComments")}}},[n("icon-social-comment",{class:t.iconClass()}),t._v(" "),n("span",{class:t.commentsLabelClass},[t._v("\n            "+t._s(t.hasCompactLabels?t.commentsCount:t.$tc("community.interactions.comments",t.commentsCount,{count:t.commentsCount}))+"\n        ")])],1),t._v(" "),n("common-dropdown",t._b({staticClass:"ml-auto pointer-events-auto",attrs:{"is-opening-up":t.areInteractionsOpenUp},on:{"share-to-feed":t.shareToFeed,"share-to-chat":t.shareToChat}},"common-dropdown",t.shareProps,!1),[n("button",{class:t.itemClass},[n("span",{class:t.shareLabelClass},[t._v("\n                "+t._s(t.$t("community.interactions.share"))+"\n            ")]),t._v(" "),n("icon-social-share",{class:t.iconClass()})],1)])],1)}),[],!1,null,null,null);e.a=y.exports},485:function(t,e,n){"use strict";var o=n(83),r={props:{post:{type:Object,required:!0},comment:{type:Object,default:null},response:{type:Object,default:null}},data:function(){var t,e;return{isLiked:(this.response||this.comment||this.post).has_liked,count:(null===(t=this.response||this.comment||this.post)||void 0===t||null===(e=t.counts)||void 0===e?void 0:e.likes)||0}},methods:{toggle:function(){var t,e;return this.$session.isUserPresent()?this.$session.isCompleteProfile()?(this.isLiked=!this.isLiked,this.count=this.isLiked?this.count+1:this.count-1,this.$emit("toggle",this.count),void o.a[this.isLiked?"like":"unlike"](this.$axios,{postId:this.post.id,commentId:null===(t=this.comment)||void 0===t?void 0:t.id,responseId:null===(e=this.response)||void 0===e?void 0:e.id})):this.$session.showCompleteProfileMessage():this.$session.showSignInMessage()}}},l=n(0),component=Object(l.a)(r,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{on:{click:function(e){return t.toggle()}}},[t._t("default",null,{isLiked:t.isLiked,count:t.count})],2)}),[],!1,null,null,null);e.a=component.exports},486:function(t,e,n){"use strict";n(10);var o=n(5),r=(n(147),n(83)),l=n(24),c=n(16),h=n(405),d={components:{CommonModal:l.a,CommonHeading:c.a,ProfileFollowsItem:h.a},props:{post:{type:Object,required:!0},comment:{type:Object,default:null},response:{type:Object,default:null}},data:function(){return{isModalOpen:!1,likers:[]}},created:function(){this.$bus.$on("after.user.follow",this.markUserAsFollowed),this.$bus.$on("after.user.request_follow",this.markUserAsRequestedToFollow),this.$bus.$on("after.user.unfollow",this.markUserAsUnfollowed)},beforeDestroy:function(){this.$bus.$off("after.user.follow",this.markUserAsFollowed),this.$bus.$off("after.user.request_follow",this.markUserAsRequestedToFollow),this.$bus.$off("after.user.unfollow",this.markUserAsUnfollowed)},methods:{markUserAsFollowed:function(t){var e=this.findIndex(t);-1!==e&&(this.likers[e].followed_by_current_status="approved")},markUserAsRequestedToFollow:function(t){var e=this.findIndex(t);-1!==e&&(this.likers[e].followed_by_current_status="pending")},markUserAsUnfollowed:function(t){var e=this.findIndex(t);-1!==e&&(this.likers[e].followed_by_current_status=null)},findIndex:function(t){return this.likers.findIndex((function(e){return e.id===t.id}))},openModal:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.$session.isUserPresent()){e.next=2;break}return e.abrupt("return",t.$session.showSignInMessage());case 2:if(t.$session.isCompleteProfile()){e.next=4;break}return e.abrupt("return",t.$session.showCompleteProfileMessage());case 4:return e.next=6,r.a.getLikers(t.$axios,{postId:t.post.id,commentId:null===(n=t.comment)||void 0===n?void 0:n.id,responseId:null===(o=t.response)||void 0===o?void 0:o.id});case 6:t.likers=e.sent,t.isModalOpen=!0,t.$bus.$emit("community.post.likes_count_presented");case 9:case"end":return e.stop()}}),e)})))()}}},f=n(0),component=Object(f.a)(d,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{on:{click:function(e){return t.openModal()}}},[t._t("default")],2),t._v(" "),n("portal",{attrs:{to:"modal"}},[n("common-modal",{attrs:{"is-open":t.isModalOpen},on:{close:function(e){t.isModalOpen=!1}},scopedSlots:t._u([{key:"header",fn:function(){return[n("common-heading",{staticClass:"text-brown-primary text-center",attrs:{type:"sixfold"}},[t._v("\n                    "+t._s(t.$t("community.likes.heading"))+"\n                ")])]},proxy:!0},{key:"default",fn:function(){return[n("div",{staticClass:"h-400 max-w-460 overflow-y-auto"},t._l(t.likers,(function(t,e){return n("profile-follows-item",{key:e,staticClass:"border-t-1 first:border-t-0 border-black-10",attrs:{user:t}})})),1)]},proxy:!0}])})],1)],1)}),[],!1,null,null,null);e.a=component.exports},487:function(t,e,n){"use strict";var o=n(0),component=Object(o.a)({},(function(){var t=this.$createElement,e=this._self._c||t;return e("svg",this._g({attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}},this.$listeners),[e("path",{attrs:{fill:"currentColor","fill-rule":"evenodd",stroke:"currentColor",d:"M.707 9L12 20.293 23.293 9 18 3.707l-6 6-6-6L.707 9z"}})])}),[],!1,null,null,null);e.a=component.exports}}]);